# ✅ Perform a Test Failover in Azure

After setting up VM replication, it's important to **perform a Test Failover** to ensure your disaster recovery setup works correctly — without affecting your production environment.

---

##  What Is Test Failover?

A **Test Failover** simulates a real disaster recovery scenario by booting a copy of your replicated VM in Azure, **without interrupting your on-prem VM**.

---

##  Step-by-Step: Run a Test Failover

### 1. Go to Azure Portal
- Open your **Recovery Services Vault**.
- Click on **Replicated Items** under the **Site Recovery** section.

### 2. Select the VM
- Click on the VM that you replicated earlier.

### 3. Click **Test Failover**
- In the toolbar at the top, click **Test Failover**.

### 4. Choose Failover Options
- **Recovery Point**: Select the latest or any available snapshot.
- **Azure Virtual Network**: Choose a **test network** (not production) to run the VM in isolation.
  - If none exists, create a small virtual network (like `Test-VNet`).

### 5. Start the Test
- Click **OK** to begin the test failover process.
- Azure will create a new test VM with the same settings as your original.

### 6. Validate the VM
- Go to **Azure > Virtual Machines**.
- You’ll see the new VM (typically named like `MyVM-Test`).
- Connect via RDP and **verify it boots and runs properly**.

### 7. Cleanup Test Failover
- After testing, go back to the **Replicated Items** section.
- Select the replicated VM and click **Cleanup Test Failover**.
- Provide notes (optional) and confirm.

---

##  Outcome

Your disaster recovery plan is verified. You have confirmed that the VM can be successfully recovered in Azure without affecting the original machine.

---

##  Project Complete!

You have:
- Backed up important files to Azure using MARS
- Replicated your Hyper-V VM to Azure using ASR
- Performed a test failover to validate your DR setup

Optional: Add monitoring or alerting using Log Analytics + KQL  
(see [`../kql/sample-monitoring-queries.kql`](../kql/sample-monitoring-queries.kql)) for examples.
